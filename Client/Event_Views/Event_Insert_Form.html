


        <main class="create_form">
            <section class="create_event_form">
                <h1>Create a new event</h1>
            <form id="target" method=POST action="" enctype="multipart/form-data">
                <input type="hidden" name="api_function_call" value=insert_event>

                <!--Name-->
                <div class="form_name">
                    <label for="name">Event Name *</label>
                    <input type="text" name="name">
                </div>

                <!--Start date-->
                <div class="form-start">
                <label for="event_start">Start of event *</label> 
                <input type="datetime-local" name="event_start">
                </div>

                <!--End date-->
                <div class="form-end">
                <label for="event_end">End of Event *</label> 
                <input type="datetime-local" name="event_end">
                </div>

                <!--Max Seats-->
                <div class="form_seat">
                    <label for="max_seats">Max Seat *</label>
                    <input type="number" min=1 step="any" max="100" name="max_seats">
                </div>

                <!--Charge-->
                <div class="form_charge">
                <label for="charge">Charge *</label>
                <input type="number" max="9999" min="0.01"step="0.01"name="charge">
                </div>

                <!--Description-->
                <div class="form_description">
                    <label for="event_description">Event Description *</label>
                    <textarea name="event_description"></textarea>
                </div>

                <!--Show Event-->
                <div class="form_show_event"><span>Visible On Site:</span>
                    <label for="show_event">Yes</label>
                    <input id="show_event" type="radio" name="show_event" value="1">
                    <label for="show_event">No</label>
                    <input id="show_event" checked type="radio" name="show_event" value="0">
                </div>
                <div class="form_private_event"><span>Private Event:</span>
                    <label for="private_event">Yes</label>          
                    <input id="private_event" type="radio" name="private_event" value="1">
                    <label for="private_event">No</label>
                    <input id="private_event" checked type="radio" name="private_event" value="0">     
                </div>
                <!--Pictures for event-->
                <div class="form_pictures">
                <label for="picture">Upload a picture: </label>    
                <input type="file" accept="image/*" name="image"> <!--width 482 height 87-->
                </div>

                <button type="submit">Save</button>
            </form>  
            </section>   
        </main>
<script>
    $('#target').submit(function(event) {
        event.preventDefault();
        var apiCall=$("#api_function_call").val();
        var type='POST';
        var formData=new FormData(this);
        var error=$("#error");
        var data={};
        
        $.ajax({
            type: type,
            url: 'http://localhost/project/trustyticket/serviceProvider/API.php',
            data: formData ,
            processData: false,
            contentType: false, 
            dataType: 'json',
            encode: true
        })
        .done(function(data) {
            console.log(data);
            var errorValue=false;
            window.location.href="http://localhost/project/trustyticket";
        })
        .fail(function(jqXHR, textStatus, errorThrown) {
                console.error('Error:', textStatus, errorThrown);
                console.log(data);
        });
    });
</script>
